# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.0.0] - 2024-11-21

### ğŸ‰ Initial Release

é¦–ä¸ªæ­£å¼ç‰ˆæœ¬å‘å¸ƒï¼ŒåŸºäº Vue 3 + TypeScript + Konva.js çš„ç”»å¸ƒæ¸²æŸ“å™¨ã€‚

### âœ¨ Features

#### æ ¸å¿ƒåŠŸèƒ½
- **å¤šå›¾å±‚ç®¡ç†** - æ”¯æŒ floorï¼ˆåº•å±‚ï¼‰ã€mainï¼ˆä¸»å±‚ï¼‰ã€coverï¼ˆè¦†ç›–å±‚ï¼‰ä¸‰å±‚ç»“æ„
- **èƒŒæ™¯ç½‘æ ¼ç»˜åˆ¶** - å¯é…ç½®çš„ç½‘æ ¼èƒŒæ™¯ï¼Œæ”¯æŒè‡ªå®šä¹‰ç½‘æ ¼å¤§å°
- **æ ‡å°ºç³»ç»Ÿ** - è¾…åŠ©å®šä½çš„æ ‡å°ºåŠŸèƒ½
- **å“åº”å¼å¸ƒå±€** - è‡ªé€‚åº”å®¹å™¨å¤§å°ï¼Œæ”¯æŒçª—å£è°ƒæ•´

#### äº¤äº’åŠŸèƒ½
- **å³é”®æ‹–æ‹½** - æ”¯æŒå³é”®æˆ– Ctrl+å·¦é”®æ‹–æ‹½ç”»å¸ƒ
- **æ»šè½®ç¼©æ”¾** - é¼ æ ‡æ»šè½®ç¼©æ”¾ç”»å¸ƒï¼Œæ”¯æŒä»¥é¼ æ ‡ä½ç½®ä¸ºä¸­å¿ƒç¼©æ”¾
- **ç¼©æ”¾é…ç½®** - å¯é…ç½®ç¼©æ”¾é€Ÿåº¦ã€æœ€å°/æœ€å¤§ç¼©æ”¾æ¯”ä¾‹

#### æŠ€æœ¯ç‰¹æ€§
- **å®Œæ•´çš„ TypeScript æ”¯æŒ** - æ‰€æœ‰ API éƒ½æœ‰å®Œå–„çš„ç±»å‹å®šä¹‰
- **å‡½æ•°å¼ç¼–ç¨‹é£æ ¼** - ä½¿ç”¨çº¯å‡½æ•°å’Œå·¥å‚æ¨¡å¼
- **æ¨¡å—åŒ–æ¶æ„** - æ¸…æ™°çš„ç›®å½•ç»“æ„å’ŒèŒè´£åˆ†ç¦»
- **å®Œå–„çš„å°è£…** - åŒºåˆ†å…¬å…± API å’Œå†…éƒ¨å®ç°

### ğŸ—ï¸ Architecture

#### ç›®å½•ç»“æ„
```
src/Render/
â”œâ”€â”€ types/              # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ config.ts       # é…ç½®ç±»å‹ï¼ˆRenderConfig, ZoomConfigï¼‰
â”‚   â”œâ”€â”€ instance.ts     # å®ä¾‹ç±»å‹ï¼ˆRenderInstance, InternalRenderInstanceï¼‰
â”‚   â”œâ”€â”€ constants.ts    # å¸¸é‡ï¼ˆMouseButton, DEFAULT_RULER_SIZE, DEFAULT_ZOOM_CONFIGï¼‰
â”‚   â””â”€â”€ index.ts        # ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ factories/          # å·¥å‚å‡½æ•°
â”‚   â”œâ”€â”€ createCore.ts   # åˆ›å»º Konva Stage å’Œ Layers
â”‚   â”œâ”€â”€ createInstance.ts   # åˆ›å»ºæ¸²æŸ“å®ä¾‹
â”‚   â”œâ”€â”€ registerDraws.ts    # æ³¨å†Œç»˜åˆ¶å‡½æ•°
â”‚   â””â”€â”€ registerEvents.ts   # æ³¨å†Œäº‹ä»¶å¤„ç†
â”œâ”€â”€ draws/              # ç»˜åˆ¶åŠŸèƒ½
â”‚   â”œâ”€â”€ background.ts   # èƒŒæ™¯ç½‘æ ¼ç»˜åˆ¶
â”‚   â””â”€â”€ ruler.ts        # æ ‡å°ºç»˜åˆ¶
â”œâ”€â”€ interactions/       # äº¤äº’åŠŸèƒ½
â”‚   â”œâ”€â”€ drag.ts         # æ‹–æ‹½åŠŸèƒ½
â”‚   â””â”€â”€ zoom.ts         # ç¼©æ”¾åŠŸèƒ½
â””â”€â”€ index.ts            # ä¸»å…¥å£
```

#### è®¾è®¡æ¨¡å¼
- **å·¥å‚æ¨¡å¼** - `createCore`, `createInstance`, `createRender`
- **è§‚å¯Ÿè€…æ¨¡å¼** - äº‹ä»¶ç›‘å¬å’Œå¤„ç†æœºåˆ¶
- **ç­–ç•¥æ¨¡å¼** - ä¸åŒçš„ç»˜åˆ¶å’Œäº¤äº’ç­–ç•¥
- **å°è£…åŸåˆ™** - `RenderInstance` (å…¬å…±) vs `InternalRenderInstance` (å†…éƒ¨)

### ğŸ”§ API

#### RenderInstance (å…¬å…± API)
- `config: RenderConfig` - æ¸²æŸ“å™¨é…ç½®ï¼ˆåªè¯»ï¼‰
- `resize(width, height): void` - è°ƒæ•´ç”»å¸ƒå°ºå¯¸
- `redraw(drawNames?): void` - é‡ç»˜ç”»å¸ƒï¼ˆæ”¯æŒé€‰æ‹©æ€§é‡ç»˜ï¼‰
- `destroy(): void` - é”€æ¯æ¸²æŸ“å®ä¾‹
- `getStageState(): StageState` - è·å–å½“å‰ Stage çŠ¶æ€
- `toStageValue(boardPos): number` - åæ ‡è½¬æ¢ï¼ˆBoard â†’ Stageï¼‰
- `toBoardValue(stagePos): number` - åæ ‡è½¬æ¢ï¼ˆStage â†’ Boardï¼‰
- `changeDraggable(draggable): void` - åˆ‡æ¢å…ƒç´ æ‹–æ‹½çŠ¶æ€

#### é…ç½®é€‰é¡¹
- `width`, `height` - ç”»å¸ƒå°ºå¯¸ï¼ˆå¿…å¡«ï¼‰
- `showBg` - æ˜¯å¦æ˜¾ç¤ºèƒŒæ™¯ç½‘æ ¼
- `showRuler` - æ˜¯å¦æ˜¾ç¤ºæ ‡å°º
- `readonly` - æ˜¯å¦ä¸ºåªè¯»æ¨¡å¼
- `zoom.enabled` - æ˜¯å¦å¯ç”¨ç¼©æ”¾
- `zoom.scaleBy` - ç¼©æ”¾é€Ÿåº¦ï¼ˆé»˜è®¤ 0.1ï¼‰
- `zoom.scaleMin` - æœ€å°ç¼©æ”¾æ¯”ä¾‹ï¼ˆé»˜è®¤ 0.2ï¼‰
- `zoom.scaleMax` - æœ€å¤§ç¼©æ”¾æ¯”ä¾‹ï¼ˆé»˜è®¤ 5ï¼‰

### ğŸ“ Code Quality

#### TypeScript
- âœ… æå– `RenderLayers` ç±»å‹ï¼Œæ¶ˆé™¤é‡å¤å®šä¹‰
- âœ… æå–å¸¸é‡ `DEFAULT_RULER_SIZE` å’Œ `DEFAULT_ZOOM_CONFIG`
- âœ… å®Œå–„æ‰€æœ‰é…ç½®å­—æ®µçš„ JSDoc æ³¨é‡Š
- âœ… ä¿®å¤ `any` ç±»å‹ï¼Œä½¿ç”¨æ­£ç¡®çš„ `Konva.KonvaEventObject<MouseEvent>`
- âœ… ç§»é™¤ä¸å¿…è¦çš„ç±»å‹æ–­è¨€

#### æ³¨é‡Šä¼˜åŒ–
- âœ… ä¸ºæ‰€æœ‰æ¥å£æ·»åŠ æ¸…æ™°çš„ä¸­æ–‡æ³¨é‡Š
- âœ… ä¸ºé…ç½®é¡¹æ·»åŠ é»˜è®¤å€¼è¯´æ˜
- âœ… ä¸ºå›¾å±‚æ·»åŠ ç”¨é€”è¯´æ˜ï¼ˆfloor/main/coverï¼‰

#### ä»£ç è§„èŒƒ
- âœ… ä½¿ç”¨ `??` ä»£æ›¿ `||` å¤„ç†é»˜è®¤å€¼
- âœ… æå–é­”æ³•å€¼ä¸ºå¸¸é‡
- âœ… ç»Ÿä¸€ä»£ç é£æ ¼ï¼ˆTab ç¼©è¿›ï¼‰

### ğŸ“š Documentation

- âœ… å®Œå–„çš„ README.md
  - é¡¹ç›®ä»‹ç»å’ŒæŠ€æœ¯æ ˆ
  - å¿«é€Ÿå¼€å§‹æŒ‡å—
  - å®Œæ•´çš„é¡¹ç›®ç»“æ„è¯´æ˜
  - æ ¸å¿ƒåŠŸèƒ½åˆ—è¡¨
  - ä½¿ç”¨ç¤ºä¾‹ä»£ç 
  - æ¶æ„è®¾è®¡è¯´æ˜
  - é…ç½®é€‰é¡¹æ–‡æ¡£
  - äº¤äº’æ“ä½œè¯´æ˜
  - å¼€å‘è§„èŒƒ

### ğŸ¨ UI/UX

- âœ… Tailwind CSS æ ·å¼ç³»ç»Ÿ
- âœ… å“åº”å¼å¸ƒå±€ï¼ˆFlexboxï¼‰
- âœ… ç”»å¸ƒè‡ªé€‚åº”å®¹å™¨å¤§å°
- âœ… æµç•…çš„æ‹–æ‹½å’Œç¼©æ”¾ä½“éªŒ

### ğŸ” Type Safety

- âœ… ä¸¥æ ¼çš„ TypeScript ç±»å‹æ£€æŸ¥
- âœ… å®Œæ•´çš„ç±»å‹å®šä¹‰å¯¼å‡º
- âœ… åŒºåˆ†å…¬å…± API å’Œå†…éƒ¨å®ç°çš„ç±»å‹
- âœ… ä½¿ç”¨ `as const` ç¡®ä¿å¸¸é‡ç±»å‹

### ğŸ“¦ Dependencies

- Vue 3
- TypeScript
- Vite
- Konva 10.0.11
- Tailwind CSS
- lodash-es

---

## Future Plans

### ğŸ”® Planned Features

- [ ] å‚è€ƒçº¿ï¼ˆRefLineï¼‰åŠŸèƒ½
- [ ] å¸é™„åŠŸèƒ½ï¼ˆAttractï¼‰
- [ ] å³é”®èœå•ï¼ˆContextMenuï¼‰
- [ ] é¢„è§ˆæ¨¡å¼ï¼ˆPreviewï¼‰
- [ ] æ’¤é”€/é‡åšï¼ˆUndo/Redoï¼‰
- [ ] å¿«æ·é”®ç³»ç»Ÿ
- [ ] å…ƒç´ é€‰æ‹©å’Œç¼–è¾‘
- [ ] å¤šé€‰å’Œæ‰¹é‡æ“ä½œ
- [ ] å¯¼å‡ºä¸ºå›¾ç‰‡/PDF

### ğŸš€ Performance Optimization

- [ ] è™šæ‹Ÿæ¸²æŸ“ä¼˜åŒ–
- [ ] å¤§é‡å…ƒç´ æ€§èƒ½ä¼˜åŒ–
- [ ] æ‡’åŠ è½½ç­–ç•¥

### ğŸ§ª Testing

- [ ] å•å…ƒæµ‹è¯•
- [ ] é›†æˆæµ‹è¯•
- [ ] E2E æµ‹è¯•

---

[1.0.0]: https://github.com/yourusername/konva-canvas/releases/tag/v1.0.0

